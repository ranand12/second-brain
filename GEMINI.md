# Project: Second Brain - A Personal Reading List Web App

This project transforms a Notion export of a reading list into a beautiful, searchable, and intelligent static web application. It uses a Python script with the Gemini API to automatically categorize articles, generate tags, and create summaries, which are then displayed in a clean, reader-friendly interface.

## How It Works

The project has two main parts:

1.  **A One-Time Processing Script (`process_articles.py`):** This is a Python script that you run locally. It reads all your exported markdown articles, sends their content to the Gemini API for analysis, and saves the results (category, tags, summary) into a single `article_data.json` file.
2.  **A Static Website (HTML, CSS, JS):** This is the user-facing part of the project. It reads the `article_data.json` file to display your reading list in a searchable card format. It includes a beautiful, Instapaper-style reader view for the articles themselves.

This two-step process ensures that your Gemini API key is never exposed publicly, as the website itself is completely static and does not make any API calls.

## Website Functionality

### Main Page (`index.html`)
-   **Card-Based Layout:** Displays all articles in a responsive grid of cards.
-   **Gemini-Powered Metadata:** Each card clearly shows the article's title, a 5-word summary, its category (`Health`, `Wealth`, or `Work`), and three relevant tags, all generated by the Gemini API.
-   **Interactive Tag Filtering:** Clicking on any tag on a card instantly filters the grid to show only articles with that same tag. A filter bar appears at the top, showing the active filter and a "Clear" button.
-   **Hover Effect:** A subtle and clean hover effect on the cards provides a modern user experience.
-   **Seamless Navigation:** Clicking anywhere on a card (except a tag) navigates the user to the full article viewer in the same tab.

### Article Viewer (`viewer.html`)
-   **Clean Reader View:** Presents the article content in a beautiful, single-column, Instapaper-style layout with high-quality typography for maximum readability.
-   **Comprehensive Header:** The header displays the full article title, the date it was saved, a link to the original source, and the Gemini-generated summary, category, and tags.
-   **Easy Navigation:** A "‚Üê Back to Reading List" link is always present for easy navigation back to the main page.
-   **Auto-Generated Table of Contents:** For articles with headings, a sticky table of contents is automatically generated and displayed on the left, allowing users to quickly jump to different sections.
-   **Full Markdown Support:**
    -   **Syntax Highlighting:** Code blocks are automatically highlighted with a clean GitHub theme.
    -   **Copy Buttons:** A "Copy" button appears on hover for every code block, allowing for easy copying of snippets.
    -   **Styled Tables:** Markdown tables are rendered as clean, styled HTML tables.
    -   **Responsive Images:** All images are automatically scaled to fit within the reading column without overflowing.

## Key Files

-   `index.html`: The main page that displays the grid of article cards.
-   `viewer.html`: The reader-view page for displaying individual articles.
-   `style.css`: Contains all the styling for both the main page and the reader view.
-   `script.js`: Handles the logic for the main page (loading data, filtering by tags).
-   `viewer.js`: Handles the logic for the reader page (rendering markdown, building the table of contents).
-   `article_data.json`: The central database for the website, generated by the Python script. **This file is safe to commit.**
-   `process_articles.py`: The main Python script used to analyze articles with the Gemini API.
-   `regenerate_mapping.py`: A helper script to create the initial mapping between your CSV and markdown files.
-   `.env`: A **local, private file** where you store your `GEMINI_API_KEY`.
-   `.gitignore`: A configuration file that tells Git to **ignore** the `.env` file, keeping your key safe.

## How to Use and Update

### Step 1: Add New Content
1.  Export your reading list from Notion into the main project folder. This should include the main CSV file and the directory of markdown files.
2.  If you have added new articles, you must first regenerate the mapping file by running:
    ```bash
    python3 regenerate_mapping.py
    ```

### Step 2: Process Articles
1.  After adding new content and regenerating the mapping, run the main processing script. It will automatically find and process only the new articles.
    ```bash
    python3 process_articles.py
    ```
2.  This will update your `article_data.json` file with the new content.

### Step 3: View Your Website
1.  To view the site locally, start the simple Python web server:
    ```bash
    python3 -m http.server 8081
    ```
2.  Open your browser and go to `http://localhost:8081`.

### Step 4: Deploy to GitHub Pages
1.  After you've processed your articles and have an updated `article_data.json`, you can deploy the site.
2.  Commit all the changes (except for the files listed in `.gitignore`).
    ```bash
    git add .
    git commit -m "Update reading list with new articles"
    git push origin main
    ```
3.  GitHub Pages will automatically rebuild and deploy your updated site.
