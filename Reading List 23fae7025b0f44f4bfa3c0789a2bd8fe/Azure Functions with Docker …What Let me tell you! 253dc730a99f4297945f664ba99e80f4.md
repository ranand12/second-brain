# Azure Functions with Docker? …What? Let me tell you! | by Marcelo Agustin Beghé | Medium

Column: https://medium.com/@marcelo.beghe/azure-functions-with-docker-what-let-me-tell-you-315264caf1f9
Processed: No
created on: April 11, 2022 8:37 PM
topics: azure, tech-stuff

First of all…hello stranger! To make it easier, it’s best to get to know each other. Maybe you have some experience with Azure Functions or Docker, if so, jump straight to the corresponding section! If not, I invite you to join me in this step by step guide, I promise you will have fun!

Let’s introduce these two…

## Docker

As you may already know (or not), Docker is a tool designed to facilitate the creation, implementation and execution of applications using containers.

Basically, it wraps an application, allowing developers to forget about infrastructure or server maintenance problems and letting them focus on what really matters…developing efficiently!

## Azure Functions

This awesome computing service let’s us code on-demand without having to explicitly provision or manage infrastructure, generating an acceleration and simplification in the application development process.

## Prerequisites

In order to start developing our application we must prepare our working environment, for this, we must install the necessary tools for Docker and Azure Functions to work together:

- Your favorite text editor; most popular are [Visual Studio Code](https://go.microsoft.com/fwlink/?Linkid=852157), [Sublime](https://download.sublimetext.com/Sublime%20Text%20Build%203176%20x64%20Setup.exe) or [Notepad++](https://notepad-plus-plus.org/repository/7.x/7.5.6/npp.7.5.6.Installer.x64.exe).
- [Docker for Windows](https://download.docker.com/win/stable/Docker%20for%20Windows%20Installer.exe) latest stable version. In this guide we will be using Docker for Windows, which only works with Windows 10 Pro (ATTENTION: it does not work with other versions of Windows 10 or lower). If you have another version of Windows, you can use [Docker Toolbox](https://docs.docker.com/toolbox/toolbox_install_windows/) ,whose installation and usage differs from this guide and will not be supported. Also you need to [register a Docker ID](https://hub.docker.com/) in order to run Docker locally.
- [.NET Core SDK 2.x](https://www.microsoft.com/net/download/thank-you/dotnet-sdk-2.1.200-windows-x64-installer)(64 bits)
- [Node.js](https://nodejs.org/es/download/) 8.5 or later versions
- Azure Functions Core Tools: In order to install Azure Functions Core Tools, we need npm, which is included on Node.js installation; after that we can open-up our preferred console and execute this command:

```
npm install -g azure-functions-core-tools@core
```

This should install Azure Function Core Tools globally.

And we are good to go!

## Building your first App on Azure Functions and Docker

We will start by running the following command inside our App folder:

```
func init MyProjectName --docker
```

What it will do is create a folder equivalent to an Azure application, as well as initialize the repository in git and write the necessary files for Docker to work.

You should get the following output:

Great! Now we have our container created…We just need to add some action inside.

Open up a command prompt of your container folder and execute this command:

```
func new --language Javascript --template "HTTP trigger" --name YourDesiredFunctionName
```

In this case, we are going to pick a Javascript Function, and also we are going to select Http Trigger template. We should see a new folder in our application folders tree with the name we specified(by default it will set the Function name to the folder).

Azure Functions has lots of Functions to use but we picked this one because at the end of the guide we will clearly get a “Hello World” message on screen.

If you want to try out other templates simply write:

```
func new
```

And you will be prompted with a list of languages and templates by language!

Before we go any further, locate “authLevel” field inside the “function.json” file generated in the Azure Function folder, and change its value from “function” to “anonymous”. If you don’t, you will receive an HTTP ERROR 401 Unauthorized, because by default applications generated by Azure Functions come with authorization level by function.

Now we are going to build and deploy our application! Run this two commands:

Be aware that the “tag” value and the localhost port specified could be anything, I’ve just picked port 3000 and “httptriggerjs” because they are easy to remember and descriptive!

Now we have an Azure HttpTriggerJS template running, which is an API that receives a value via URL and displays something inside the DOM.

Give it a try like this:

On your browser…

And you should get a result like this:

Local API response

I told you you were going to have fun! And look…you even learned how to use Azure Functions with Docker ;)

Now go ahead and build whatever kind of application you want, your releases will work on those servers you know nothing about, don’t worry, Docker’s got your back!

If you have any doubts about your solution and want to check out mine…go straight to [this repo](https://github.com/mbeghe/southworks-app)!

Some Docker commands you might find usefull:

```
docker ps
```

Lists every container running with all its details.

```
docker stop containerNameReference
```

Stops a specific docker container running.

[Docker installation documentation](https://docs.docker.com/docker-for-windows/install/#what-to-know-before-you-install) if you ran into any kind of issue.

[Azure Functions Core Tools documentation](https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local) if you ran into any kind of issue.

[Other guides](https://cmatskas.com/running-azure-functions-anywhere-with-the-power-of-containers/) that helped me understand Azure Functions & Docker.